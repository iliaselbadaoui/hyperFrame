"use strict";function CompileConfig(e){if(e.hasOwnProperty("AppInfo")&&e.hasOwnProperty("Packages")){if(!(e.AppInfo.hasOwnProperty("AppName")&&e.AppInfo.hasOwnProperty("AppIcon")&&e.AppInfo.hasOwnProperty("Version")))return console.error("The AppInfo property should have AppName, AppIcon and Version properties."),!1;if(!e.Packages.hasOwnProperty("length"))return console.error("The Packages property should be an array"),!1;if(e.Packages.hasOwnProperty("length"))for(var t=0;t<e.Packages.length;){if(!e.Packages[t].hasOwnProperty("Name")||!e.Packages[t].hasOwnProperty("Path")||!e.Packages[t].hasOwnProperty("Type"))return console.error("The object "+(t+1)+"is not of type package, a package object should have the Name, Path and Type propreties."),!1;t++}return!0}return console.error("The configuration object should have the AppInfo and Packages properties."),!1}function ReadConfig(){let e=new XMLHttpRequest;e.open("GET","config.json",!0),e.onreadystatechange=function(){if(200==e.status&&4==e.readyState){var t=JSON.parse(e.response),r=document.createElement("link");if(CompileConfig(t)){document.title=t.AppInfo.AppName,r.rel="icon",r.type="image/png",r.href=t.AppInfo.AppIcon,document.head.appendChild(r),ver=t.AppInfo.Version;for(var n=0;n<t.Packages.length;){var a;"script"==t.Packages[n].Type?(a=document.createElement("script"),a.type="text/javascript",a.src=t.Packages[n].Path,a.id=t.Packages[n].Name,document.head.appendChild(a)):"style"==t.Packages[n].Type?(a=document.createElement("link"),a.type="text/css",a.href=t.Packages[n].Path,a.rel="stylesheet",a.id=t.Packages[n].Name,document.head.appendChild(a)):console.error("Type should be 'script' or 'style' and nothing else."),n++}}}},e.send()}var dateErr=new Error,classErr=new Error;let ver;dateErr.name="Date error",dateErr.message="Check the date.",classErr.name="class Error",classErr.message="class invalid or not exist",ReadConfig();const hyperFrame={checkDateFormat(e){let t=new RegExp("^[0-9]{2}/[0-9]{2}/[0-9]{4}$"),r=new RegExp("^[0-9]{2}-[0-9]{2}-[0-9]{4}$");if(!t.test(e)&&!r.test(e))return console.error('Date format should be like "DD/MM/YYYY" or "DD-MM-YYYY"'),!1;{let t=e.split("/"),r=parseInt(t[0]),n=parseInt(t[1]),a=parseInt(t[2]);if(n>12||n<1)return console.error("Month should be an integer value between 1 and 12"),!1;if(a>9999||a<1)return console.error("Year should be an integer value between 1 and 9999"),!1;switch(n){case 1:if(r<1||r>31)return console.error(dateErr.stack),!1;break;case 2:if(a%100==0||a%4!=0&&a%400!=0){if(r<1||r>28)return console.error(dateErr.stack),!1}else if(r<1||r>29)return console.error(dateErr.stack),!1;break;case 3:if(r<1||r>31)return console.error(dateErr.stack),!1;break;case 4:if(r<1||r>30)return console.error(dateErr.stack),!1;break;case 5:if(r<1||r>31)return console.error(dateErr.stack),!1;break;case 6:if(r<1||r>30)return console.error(dateErr.stack),!1;break;case 7:case 8:if(r<1||r>31)return console.error(dateErr.stack),!1;break;case 9:if(r<1||r>30)return console.error(dateErr.stack),!1;break;case 10:if(r<1||r>31)return console.error(dateErr.stack),!1;break;case 11:if(r<1||r>30)return console.error(dateErr.stack),!1;break;case 12:if(r<1||r>31)return console.error(dateErr.stack),!1}}return!0},timeSpan(e,t){if(void 0!==e.getTime()&&void 0!==t.getTime())return Math.abs(e.getTime()-t.getTime())/1e3},DateDiffEntity(e,t){let r=this.timeSpan(e,t),n={days:0,hours:0,minutes:0,seconds:0};return n.days=Math.floor(r/86400),r-=86400*n.days,n.hours=Math.floor(r/3600),r-=3600*n.hours,n.minutes=Math.floor(r/60),r-=60*n.minutes,n.seconds=Math.floor(r),n},setUpCountDown(e,t){let r,n,a=document.createElement("div"),o=document.createElement("span"),s=document.createElement("span"),c=document.createElement("span"),d=document.createElement("span"),p=document.createElement("span"),i=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),h=document.createElement("span"),m=document.createElement("span"),f=document.createElement("span"),g=document.createElement("span"),k=document.getElementById(e);for(let e=0;e<k.childNodes.length;e++)if("COUNTDOWN"===k.childNodes[e].tagName){n=k.childNodes[e];break}a.appendChild(o),o.appendChild(p),o.appendChild(h),s.appendChild(i),s.appendChild(m),c.appendChild(l),c.appendChild(f),d.appendChild(u),d.appendChild(g),a.appendChild(s),a.appendChild(c),a.appendChild(d),void 0!==n&&k.replaceChild(a,n),h.textContent="Days",m.textContent="Hours",f.textContent="Minutes",g.textContent="Seconds",a.id="CountDown",o.className="CD_Sticker",s.className="CD_Sticker",c.className="CD_Sticker",d.className="CD_Sticker",p.id="CD_days",i.id="CD_hours",l.id="CD_minutes",u.id="CD_seconds",setInterval(function(){r=hyperFrame.DateDiffEntity(t,new Date),r.days<10?p.textContent="0"+r.days:p.textContent=r.days,r.hours<10?i.textContent="0"+r.hours:i.textContent=r.hours,r.minutes<10?l.textContent="0"+r.minutes:l.textContent=r.minutes,r.seconds<10?u.textContent="0"+r.seconds:u.textContent=r.seconds},1e3)},onReady(e){document.onreadystatechange=function(){"complete"==document.readyState&&e()}},on(e,t,r){document.getElementById(e).addEventListener(t,function(){r()})},changeClassName(e,t,r){let n=document.getElementById(e),a=n.className;if(a.includes(t)){a=a.split(" ");for(let e=0;e<a.length;e++)if(a[e]===t){a[e]=r;break}a=a.join(" "),n.className=a}else console.error(classErr.message)}};