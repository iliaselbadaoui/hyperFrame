"use strict";function CompileConfig(e){if(e.hasOwnProperty("AppInfo")&&e.hasOwnProperty("Packages")){if(!(e.AppInfo.hasOwnProperty("AppName")&&e.AppInfo.hasOwnProperty("AppIcon")&&e.AppInfo.hasOwnProperty("Version")))return console.error("The AppInfo property should have AppName, AppIcon and Version properties."),!1;if(!e.Packages.hasOwnProperty("length"))return console.error("The Packages property should be an array"),!1;if(e.Packages.hasOwnProperty("length"))for(var r=0;r<e.Packages.length;){if(!e.Packages[r].hasOwnProperty("Name")||!e.Packages[r].hasOwnProperty("Path")||!e.Packages[r].hasOwnProperty("Type"))return console.error("The object "+(r+1)+"is not of type package, a package object should have the Name, Path and Type propreties."),!1;r++}return!0}return console.error("The configuration object should have the AppInfo and Packages properties."),!1}function ReadConfig(){let e=new XMLHttpRequest;e.open("GET","config.json",!0),e.onreadystatechange=function(){if(200==e.status&&4==e.readyState){var r=JSON.parse(e.response),t=document.createElement("link");if(CompileConfig(r)){document.title=r.AppInfo.AppName,t.rel="icon",t.type="image/png",t.href=r.AppInfo.AppIcon,document.head.appendChild(t),ver=r.AppInfo.Version;for(var a=0;a<r.Packages.length;){var n;"script"==r.Packages[a].Type?(n=document.createElement("script"),n.type="text/javascript",n.src=r.Packages[a].Path,n.id=r.Packages[a].Name,document.head.appendChild(n)):"style"==r.Packages[a].Type?(n=document.createElement("link"),n.type="text/css",n.href=r.Packages[a].Path,n.rel="stylesheet",n.id=r.Packages[a].Name,document.head.appendChild(n)):console.error("Type should be 'script' or 'style' and nothing else."),a++}}}},e.send()}var dateErr=new Error;let ver;dateErr.name="Date error",dateErr.message="Check the date.",ReadConfig();const hyperFrame={checkDateFormat(e){let r=new RegExp("^[0-9]{2}/[0-9]{2}/[0-9]{4}$"),t=new RegExp("^[0-9]{2}-[0-9]{2}-[0-9]{4}$");if(!r.test(e)&&!t.test(e))return console.error('Date format should be like "DD/MM/YYYY" or "DD-MM-YYYY"'),!1;{let r=e.split("/"),t=parseInt(r[0]),a=parseInt(r[1]),n=parseInt(r[2]);if(a>12||a<1)return console.error("Month should be an integer value between 1 and 12"),!1;if(n>9999||n<1)return console.error("Year should be an integer value between 1 and 9999"),!1;switch(a){case 1:if(t<1||t>31)return console.error(dateErr.stack),!1;break;case 2:if(n%100==0||n%4!=0&&n%400!=0){if(t<1||t>28)return console.error(dateErr.stack),!1}else if(t<1||t>29)return console.error(dateErr.stack),!1;break;case 3:if(t<1||t>31)return console.error(dateErr.stack),!1;break;case 4:if(t<1||t>30)return console.error(dateErr.stack),!1;break;case 5:if(t<1||t>31)return console.error(dateErr.stack),!1;break;case 6:if(t<1||t>30)return console.error(dateErr.stack),!1;break;case 7:case 8:if(t<1||t>31)return console.error(dateErr.stack),!1;break;case 9:if(t<1||t>30)return console.error(dateErr.stack),!1;break;case 10:if(t<1||t>31)return console.error(dateErr.stack),!1;break;case 11:if(t<1||t>30)return console.error(dateErr.stack),!1;break;case 12:if(t<1||t>31)return console.error(dateErr.stack),!1}}return!0},timeSpan(e,r){if(void 0!==e.getTime()&&void 0!==r.getTime())return Math.abs(e.getTime()-r.getTime())/1e3},DateDiffEntity(e,r){let t=this.timeSpan(e,r),a={days:0,hours:0,minutes:0,seconds:0};return a.days=Math.floor(t/86400),t-=86400*a.days,a.hours=Math.floor(t/3600),t-=3600*a.hours,a.minutes=Math.floor(t/60),t-=60*a.minutes,a.seconds=Math.floor(t),a},setUpCountDown(e,r){let t,a=document.createElement("div"),n=document.createElement("span"),o=document.createElement("span"),s=document.createElement("span"),c=document.createElement("span"),p=document.getElementById(e);a.appendChild(n),a.appendChild(o),a.appendChild(s),a.appendChild(c),p.appendChild(a),a.id="CountDown",n.id="CD_days",o.id="CD_hours",s.id="CD_minutes",c.id="CD_seconds",setInterval(function(){t=hyperFrame.DateDiffEntity(r,new Date),t.days<10?n.textContent="0"+t.days:n.textContent=t.days,t.hours<10?o.textContent="0"+t.hours:o.textContent=t.hours,t.minutes<10?s.textContent="0"+t.minutes:s.textContent=t.minutes,t.seconds<10?c.textContent="0"+t.seconds:c.textContent=t.seconds},1e3)},onReady(e){document.onreadystatechange=function(){"complete"==document.readyState&&e()}}};